(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(t,e,s){},17:function(t,e,s){},19:function(t,e,s){},20:function(t,e,s){"use strict";s.r(e);var n=s(0),i=s(3),a=s.n(i),c=s(8),r=s.n(c),l=(s(16),s(17),s(6)),o=s(2),u=s.n(o),d=s(4),h=s(10),p=s(9),x=s(5),m=s(1),y=(s(19),function t(e,s){Object(m.a)(this,t),this.isEnter=!1,this.isExit=!1,this.isWallOrVisited=!1,this.predecessor=void 0,this.x=s,this.y=e,this.isExit=!1,this.isWallOrVisited=!1}),f=!1,b=[],O=[];function j(t,e,s){if(t[e][s].isExit)return O.push("[".concat(e-1,", ").concat(s-1,"]")),void(f=!0);t[e][s].isWallOrVisited=!0,b.push("[".concat(e-1,", ").concat(s-1,"]")),O.push("[".concat(e-1,", ").concat(s-1,"]")),f||t[e][s+1].isWallOrVisited||j(t,e,s+1),f||t[e+1][s].isWallOrVisited||j(t,e+1,s),f||t[e][s-1].isWallOrVisited||j(t,e,s-1),f||t[e-1][s].isWallOrVisited||j(t,e-1,s),f||O.pop()}function v(t,e,s){f=!1,b=[],O=[];for(var n,i,a=[],c=0;c<e+2;++c){for(var r=[],l=0;l<s+2;++l)if(r.push(new y(c,l)),0===c||c===e+1||0===l||l===s+1)r[l].isWallOrVisited=!0;else switch(t[c-1][l-1].type){case"wall":r[l].isWallOrVisited=!0;break;case"enter":r[l].isEnter=!0,n=c,i=l,console.log(i,n),r[l].isWallOrVisited=!1;break;case"exit":r[l].isExit=!0,r[l].isWallOrVisited=!1}a.push(r)}return console.log(a),j(a,n,i),O.shift(),[b,O]}var g=function t(e,s){Object(m.a)(this,t),this.isEnter=!1,this.isExit=!1,this.isWallOrVisited=!1,this.predecessor=void 0,this.x=s,this.y=e};function E(t,e,s){for(var n,i,a=[],c=0;c<e+2;++c){for(var r=[],l=0;l<s+2;++l)if(r.push(new g(c,l)),0===c||c===e+1||0===l||l===s+1)r[l].isWallOrVisited=!0;else switch(t[c-1][l-1].type){case"wall":r[l].isWallOrVisited=!0;break;case"enter":r[l].isEnter=!0,n=l,i=c;break;case"exit":r[l].isExit=!0}a.push(r)}return function(t,e,s){var n=[],i=[];for(n.push(t[e][s]),t[e][s].isWallOrVisited=!0;n.length>0;)for(var a=n.length,c=0;c<a;++c){var r=n.shift();if(!0===t[r.y][r.x].isExit){for(var l=[];void 0!==r.predecessor;)l.unshift("[".concat(r.y-1,", ").concat(r.x-1,"]")),r=r.predecessor;return[i,l]}i.push("[".concat(r.y-1,", ").concat(r.x-1,"]")),t[r.y][r.x+1].isWallOrVisited||(n.push(t[r.y][r.x+1]),t[r.y][r.x+1].predecessor=r,t[r.y][r.x+1].isWallOrVisited=!0),t[r.y-1][r.x].isWallOrVisited||(n.push(t[r.y-1][r.x]),t[r.y-1][r.x].predecessor=r,t[r.y-1][r.x].isWallOrVisited=!0),t[r.y][r.x-1].isWallOrVisited||(n.push(t[r.y][r.x-1]),t[r.y][r.x-1].predecessor=r,t[r.y][r.x-1].isWallOrVisited=!0),t[r.y+1][r.x].isWallOrVisited||(n.push(t[r.y+1][r.x]),t[r.y+1][r.x].predecessor=r,t[r.y+1][r.x].isWallOrVisited=!0)}return[i,[]]}(a,i,n)}var N=function t(e,s){Object(m.a)(this,t),this.isEnter=!1,this.isExit=!1,this.isWallOrVisited=!1,this.distance=1/0,this.predecessor=void 0,this.x=s,this.y=e,this.isExit=!1,this.isWallOrVisited=!1},V=function t(e,s){Object(m.a)(this,t),this.element=e,this.priority=s},W=function(){function t(){Object(m.a)(this,t),this.items=[],this.length=0}return Object(d.a)(t,[{key:"isEmpty",value:function(){return!(this.items.length>0)}},{key:"put",value:function(t,e){for(var s=new V(t,e),n=!1,i=0;i<this.items.length;++i)if(s.priority<this.items[i].priority){this.items.splice(i,0,s),n=!0;break}n||this.items.push(s),++this.length}},{key:"shift",value:function(){if(!this.isEmpty())return--this.length,this.items.shift().element}}]),t}(),w=0,k=0;function B(t){return Math.abs(t.x-k)+Math.abs(t.y-w)+t.distance}function I(t,e,s){w=0,k=0;for(var n,i,a=[],c=0;c<e+2;++c){for(var r=[],l=0;l<s+2;++l)if(r.push(new N(c,l)),0===c||c===e+1||0===l||l===s+1)r[l].isWallOrVisited=!0;else switch(t[c-1][l-1].type){case"wall":r[l].isWallOrVisited=!0;break;case"enter":r[l].isEnter=!0,n=c,i=l,r[l].distance=0,r[l].isWallOrVisited=!1;break;case"exit":w=c,k=l,r[l].isExit=!0,r[l].isWallOrVisited=!1}a.push(r)}return function(t,e,s){var n=new W,i=[];for(n.put(t[e][s],B(e)),t[e][s].isWallOrVisited=!0;n.length>0;){var a=n.shift();if(!0===a.isExit){for(var c=[];void 0!==a.predecessor;)c.unshift("[".concat(a.y-1,", ").concat(a.x-1,"]")),a=a.predecessor;return[i,c]}i.push("[".concat(a.y-1,", ").concat(a.x-1,"]")),t[a.y][a.x+1].isWallOrVisited||(t[a.y][a.x+1].predecessor=a,t[a.y][a.x+1].distance=a.distance+1,n.put(t[a.y][a.x+1],B(t[a.y][a.x+1])),t[a.y][a.x+1].isWallOrVisited=!0),t[a.y-1][a.x].isWallOrVisited||(t[a.y-1][a.x].predecessor=a,t[a.y-1][a.x].distance=a.distance+1,n.put(t[a.y-1][a.x],B(t[a.y-1][a.x])),t[a.y-1][a.x].isWallOrVisited=!0),t[a.y][a.x-1].isWallOrVisited||(t[a.y][a.x-1].predecessor=a,t[a.y][a.x-1].distance=a.distance+1,n.put(t[a.y][a.x-1],B(t[a.y][a.x-1])),t[a.y][a.x-1].isWallOrVisited=!0),t[a.y+1][a.x].isWallOrVisited||(t[a.y+1][a.x].predecessor=a,t[a.y+1][a.x].distance=a.distance+1,n.put(t[a.y+1][a.x],B(t[a.y+1][a.x])),t[a.y+1][a.x].isWallOrVisited=!0)}return[i,[]]}(a,n,i)}var M=function t(){Object(m.a)(this,t),this.type="",this.type="default"},C=void 0,T=80,F=80,A=10,L=10,P=10,S=30,D=[],H=!1,J=!1,U=!1,q=!1,z="wall";function G(t){z=t,document.getElementById("paint-enter").className="paint-button",document.getElementById("paint-exit").className="paint-button",document.getElementById("paint-wall").className="paint-button",document.getElementById("paint-"+t).className="paint-button-active"}function K(){for(var t=0;t<T;++t)for(var e=0;e<F;++e){var s=document.getElementById("[".concat(t,", ").concat(e,"]"));"cell visited"!==s.className&&"cell path"!==s.className||(s.className="cell default")}q=!1}function Q(t,e){J||(q&&K(),"wall"===z?("default"===D[t][e].type?D[t][e].type="wall":"wall"===D[t][e].type&&(D[t][e].type="default"),document.getElementById("[".concat(t,", ").concat(e,"]")).className="cell "+D[t][e].type,H=!0):"enter"===z?function(t,e){"exit"!==D[t][e].type?(D[A][L].type="default",document.getElementById("[".concat(A,", ").concat(L,"]")).className="cell default"):(D[A][L].type="exit",document.getElementById("[".concat(A,", ").concat(L,"]")).className="cell exit",P=A,S=L),D[t][e].type="enter",document.getElementById("[".concat(t,", ").concat(e,"]")).className="cell enter",A=t,L=e}(t,e):"exit"===z&&function(t,e){"enter"!==D[t][e].type?(D[P][S].type="default",document.getElementById("[".concat(P,", ").concat(S,"]")).className="cell default"):(D[P][S].type="enter",document.getElementById("[".concat(P,", ").concat(S,"]")).className="cell enter",A=P,L=S),D[t][e].type="exit",document.getElementById("[".concat(t,", ").concat(e,"]")).className="cell exit",P=t,S=e}(t,e))}function R(t,e){return X.apply(this,arguments)}function X(){return(X=Object(x.a)(u.a.mark((function t(e,s){var n,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=5,e.length<20?n=200:e.length<40?n=100:e.length<80?n=50:e.length<140&&(n=25),n>5&&"A*"===s&&(n/=5),i=1;case 4:if(!(i<e.length)){t.next=13;break}if(!U){t.next=7;break}return t.abrupt("break",13);case 7:return document.getElementById("".concat(e[i])).className="cell visited",t.next=10,new Promise((function(t){return setTimeout(t,n)}));case 10:++i,t.next=4;break;case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t){return Z.apply(this,arguments)}function Z(){return(Z=Object(x.a)(u.a.mark((function t(e){var s,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=20,0===e.length&&alert("\u041f\u0443\u0442\u044c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),e.length>1e3&&(s=15),e.length>2500&&(s=10),n=0;case 5:if(!(n<e.length-1)){t.next=14;break}if(!U){t.next=8;break}return t.abrupt("break",14);case 8:return document.getElementById("".concat(e[n])).className="cell path",t.next=11,new Promise((function(t){return setTimeout(t,s)}));case 11:++n,t.next=5;break;case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(){void 0===C&&(C=document.getElementById("startButton")),J?(U=!0,C.innerHTML="\u041f\u0443\u0441\u043a",C.className="start-button"):(C.innerHTML="\u0421\u0442\u043e\u043f",C.className="stop-button",function(){_.apply(this,arguments)}())}function _(){return(_=Object(x.a)(u.a.mark((function t(){var e,s,n,i,a,c,r,o,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q&&K(),q=!0,J=!0,e=[],s=[],n=document.getElementById("alghorithms").value,t.t0=n,t.next="dijkstra"===t.t0?9:"dfs"===t.t0?16:"A*"===t.t0?23:29;break;case 9:return t.next=11,E(D,T,F);case 11:return i=t.sent,a=Object(l.a)(i,2),e=a[0],s=a[1],t.abrupt("break",29);case 16:return t.next=18,v(D,T,F);case 18:return c=t.sent,r=Object(l.a)(c,2),e=r[0],s=r[1],t.abrupt("break",29);case 23:return t.next=25,I(D,T,F);case 25:o=t.sent,d=Object(l.a)(o,2),e=d[0],s=d[1];case 29:return t.next=31,R(e,n);case 31:return t.next=33,Y(s);case 33:C.innerHTML="\u041f\u0443\u0441\u043a",C.className="start-button",J=!1,U=!1;case 37:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var tt=function(t){Object(h.a)(s,t);var e=Object(p.a)(s);function s(t){return Object(m.a)(this,s),e.call(this,t)}return Object(d.a)(s,[{key:"componentDidMount",value:function(){for(var t=0;t<T;++t){for(var e=[],s=0;s<F;++s)e.push(new M);D.push(e)}D[A][L].type="enter",D[P][S].type="exit",this.setState(D)}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"menu",children:Object(n.jsxs)("div",{className:"menu-box",children:[Object(n.jsxs)("div",{className:"menu-column",children:[Object(n.jsxs)("button",{className:"paint-button",id:"paint-enter",onClick:function(){return G("enter")},children:[Object(n.jsx)("img",{className:"img",src:"assets/green.bmp",alt:"enter"}),Object(n.jsx)("p",{className:"text",children:"\u0422\u043e\u0447\u043a\u0430 \u043d\u0430\u0447\u0430\u043b\u0430"})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("button",{className:"paint-button",id:"paint-exit",onClick:function(){return G("exit")},children:[Object(n.jsx)("img",{className:"img",src:"assets/gold.bmp",alt:"exit"}),Object(n.jsx)("p",{className:"text",children:"\u0422\u043e\u0447\u043a\u0430 \u043a\u043e\u043d\u0446\u0430"})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("button",{className:"paint-button-active",id:"paint-wall",onClick:function(){return G("wall")},children:[Object(n.jsx)("img",{className:"img",src:"assets/gray.bmp",alt:"wall"}),Object(n.jsx)("p",{className:"text",children:"\u0421\u0442\u0435\u043d\u0430"})]})]}),Object(n.jsxs)("div",{className:"menu-column",children:[Object(n.jsx)("label",{htmlFor:"alghorithms",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c: "}),Object(n.jsx)("br",{}),Object(n.jsxs)("select",{id:"alghorithms",name:"alghorithms",children:[Object(n.jsx)("option",{value:"dijkstra",children:"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0414\u0435\u0439\u043a\u0441\u0442\u0440\u044b"}),Object(n.jsx)("option",{value:"A*",children:"A-star"}),Object(n.jsx)("option",{value:"dfs",children:"\u041f\u043e\u0438\u0441\u043a \u0432 \u0433\u043b\u0443\u0431\u0438\u043d\u0443"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{id:"startButton",className:"start-button",onClick:function(){return $()},children:"\u041f\u0443\u0441\u043a"})]})]})}),Object(n.jsx)("div",{className:"grid",children:D.map((function(t,e){return Object(n.jsx)("div",{className:"row",children:t.map((function(t,s){return Object(n.jsx)("div",{className:"cell "+D[e][s].type,id:"[".concat(e,", ").concat(s,"]"),onMouseDown:function(){return Q(e,s)},onMouseUp:function(){H=!1},onMouseEnter:function(){return function(t,e){!0!==H||J||"wall"!==z||("default"===D[t][e].type?D[t][e].type="wall":"wall"===D[t][e].type&&(D[t][e].type="default"),document.getElementById("[".concat(t,", ").concat(e,"]")).className="cell "+D[t][e].type)}(e,s)}},"".concat(e,", ").concat(s))}))},e.toString())}))})]})}}]),s}(i.Component);var et=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(tt,{})})},st=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,21)).then((function(e){var s=e.getCLS,n=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;s(t),n(t),i(t),a(t),c(t)}))};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(et,{})}),document.getElementById("root")),st()}},[[20,1,2]]]);
//# sourceMappingURL=main.58db27b7.chunk.js.map