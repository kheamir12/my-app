(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(t,e,n){},17:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var s=n(0),c=n(3),a=n.n(c),i=n(8),r=n.n(i),l=(n(16),n(17),n(6)),o=n(2),u=n.n(o),h=n(4),p=n(10),d=n(9),x=n(5),m=n(1),y=(n(19),function t(e,n){Object(m.a)(this,t),this.isEnter=!1,this.isExit=!1,this.isWall=!1,this.predecessor=void 0,this.x=n,this.y=e,this.isExit=!1,this.isWall=!1}),f=!1,b=[],j=[];function v(t,e,n){if(t[e][n].isExit)return j.push("[".concat(e-1,", ").concat(n-1,"]")),void(f=!0);t[e][n].isWall=!0,b.push("[".concat(e-1,", ").concat(n-1,"]")),j.push("[".concat(e-1,", ").concat(n-1,"]")),f||t[e][n+1].isWall||v(t,e,n+1),f||t[e+1][n].isWall||v(t,e+1,n),f||t[e][n-1].isWall||v(t,e,n-1),f||t[e-1][n].isWall||v(t,e-1,n),f||j.pop()}function g(t,e,n){f=!1,b=[],j=[];for(var s,c,a=[],i=0;i<e+2;++i){for(var r=[],l=0;l<n+2;++l)if(r.push(new y(i,l)),0===i||i===e+1||0===l||l===n+1)r[l].isWall=!0;else switch(t[i-1][l-1].type){case"wall":r[l].isWall=!0;break;case"enter":r[l].isEnter=!0,s=i,c=l,console.log(c,s),r[l].isWall=!1;break;case"exit":r[l].isExit=!0,r[l].isWall=!1}a.push(r)}return console.log(a),v(a,s,c),j.shift(),[b,j]}var O=function t(e,n){Object(m.a)(this,t),this.isEnter=!1,this.isExit=!1,this.isWall=!1,this.predecessor=void 0,this.x=n,this.y=e};function E(t,e,n){for(var s,c,a=[],i=0;i<e+2;++i){for(var r=[],l=0;l<n+2;++l)if(r.push(new O(i,l)),0===i||i===e+1||0===l||l===n+1)r[l].isWall=!0;else switch(t[i-1][l-1].type){case"wall":r[l].isWall=!0;break;case"enter":r[l].isEnter=!0,s=l,c=i;break;case"exit":r[l].isExit=!0}a.push(r)}return console.log(a),function(t,e,n){var s=[],c=[];for(s.push(t[e][n]),t[e][n].isWall=!0;s.length>0;)for(var a=s.length,i=0;i<a;++i){var r=s.shift();if(!0===t[r.y][r.x].isExit){for(var l=[];void 0!==r.predecessor;)l.unshift("[".concat(r.y-1,", ").concat(r.x-1,"]")),r=r.predecessor;return[c,l]}c.push("[".concat(r.y-1,", ").concat(r.x-1,"]")),t[r.y][r.x+1].isWall||(s.push(t[r.y][r.x+1]),t[r.y][r.x+1].predecessor=r,t[r.y][r.x+1].isWall=!0),t[r.y-1][r.x].isWall||(s.push(t[r.y-1][r.x]),t[r.y-1][r.x].predecessor=r,t[r.y-1][r.x].isWall=!0),t[r.y][r.x-1].isWall||(s.push(t[r.y][r.x-1]),t[r.y][r.x-1].predecessor=r,t[r.y][r.x-1].isWall=!0),t[r.y+1][r.x].isWall||(s.push(t[r.y+1][r.x]),t[r.y+1][r.x].predecessor=r,t[r.y+1][r.x].isWall=!0)}return[c,[]]}(a,c,s)}var W=function t(e,n){Object(m.a)(this,t),this.isEnter=!1,this.isExit=!1,this.isWall=!1,this.distance=1/0,this.predecessor=void 0,this.x=n,this.y=e,this.isExit=!1,this.isWall=!1},w=function t(e,n){Object(m.a)(this,t),this.element=e,this.priority=n},N=function(){function t(){Object(m.a)(this,t),this.items=[],this.length=0}return Object(h.a)(t,[{key:"isEmpty",value:function(){return!(this.items.length>0)}},{key:"put",value:function(t,e){for(var n=new w(t,e),s=!1,c=0;c<this.items.length;++c)if(n.priority<this.items[c].priority){this.items.splice(c,0,n),s=!0;break}s||this.items.push(n),++this.length}},{key:"shift",value:function(){if(!this.isEmpty())return--this.length,this.items.shift().element}},{key:"getPriority",value:function(){return this.isEmpty()?1/0:this.items[0].priority}}]),t}(),k=0,B=0;function I(t){return Math.abs(t.x-B)+Math.abs(t.y-k)+t.distance}function C(t,e,n){k=0,B=0;for(var s,c,a=[],i=0;i<e+2;++i){for(var r=[],l=0;l<n+2;++l)if(r.push(new W(i,l)),0===i||i===e+1||0===l||l===n+1)r[l].isWall=!0;else switch(t[i-1][l-1].type){case"wall":r[l].isWall=!0;break;case"enter":r[l].isEnter=!0,s=i,c=l,r[l].distance=0,r[l].isWall=!1;break;case"exit":k=i,B=l,r[l].isExit=!0,r[l].isWall=!1}a.push(r)}return function(t,e,n){var s=new N,c=[];for(s.put(t[e][n],I(e)),t[e][n].isWall=!0;s.length>0;){var a=s.shift();if(!0===a.isExit){for(var i=[];void 0!==a.predecessor;)i.unshift("[".concat(a.y-1,", ").concat(a.x-1,"]")),a=a.predecessor;return[c,i]}c.push("[".concat(a.y-1,", ").concat(a.x-1,"]")),t[a.y][a.x+1].isWall||(t[a.y][a.x+1].predecessor=a,t[a.y][a.x+1].isWall=!0,t[a.y][a.x+1].distance=a.distance+1,s.put(t[a.y][a.x+1],I(t[a.y][a.x+1]))),t[a.y-1][a.x].isWall||(t[a.y-1][a.x].predecessor=a,t[a.y-1][a.x].isWall=!0,t[a.y-1][a.x].distance=a.distance+1,s.put(t[a.y-1][a.x],I(t[a.y-1][a.x]))),t[a.y][a.x-1].isWall||(t[a.y][a.x-1].predecessor=a,t[a.y][a.x-1].isWall=!0,t[a.y][a.x-1].distance=a.distance+1,s.put(t[a.y][a.x-1],I(t[a.y][a.x-1]))),t[a.y+1][a.x].isWall||(t[a.y+1][a.x].predecessor=a,t[a.y+1][a.x].isWall=!0,t[a.y+1][a.x].distance=a.distance+1,s.put(t[a.y+1][a.x],I(t[a.y+1][a.x])))}return[c,[]]}(a,s,c)}var M=function t(){Object(m.a)(this,t),this.type="",this.type="default"},F=80,A=80,P=10,S=10,T=10,D=30,J=[],L=!1,U=!1,q=!1,z="wall";function G(t){z=t,document.getElementById("paint-enter").className="paint-button",document.getElementById("paint-exit").className="paint-button",document.getElementById("paint-wall").className="paint-button",document.getElementById("paint-"+t).className="paint-button-active"}function H(){for(var t=0;t<F;++t)for(var e=0;e<A;++e){var n=document.getElementById("[".concat(t,", ").concat(e,"]"));"cell visited"!==n.className&&"cell path"!==n.className||(n.className="cell default")}q=!1}function K(t,e){U||(q&&H(),"wall"===z?("default"===J[t][e].type?J[t][e].type="wall":"wall"===J[t][e].type&&(J[t][e].type="default"),document.getElementById("[".concat(t,", ").concat(e,"]")).className="cell "+J[t][e].type,L=!0):"enter"===z?function(t,e){"exit"!==J[t][e].type?(J[P][S].type="default",document.getElementById("[".concat(P,", ").concat(S,"]")).className="cell default"):(J[P][S].type="exit",document.getElementById("[".concat(P,", ").concat(S,"]")).className="cell exit",T=P,D=S),J[t][e].type="enter",document.getElementById("[".concat(t,", ").concat(e,"]")).className="cell enter",P=t,S=e}(t,e):"exit"===z&&function(t,e){"enter"!==J[t][e].type?(J[T][D].type="default",document.getElementById("[".concat(T,", ").concat(D,"]")).className="cell default"):(J[T][D].type="enter",document.getElementById("[".concat(T,", ").concat(D,"]")).className="cell enter",P=T,S=D),J[t][e].type="exit",document.getElementById("[".concat(t,", ").concat(e,"]")).className="cell exit",T=t,D=e}(t,e))}function Q(t,e){return R.apply(this,arguments)}function R(){return(R=Object(x.a)(u.a.mark((function t(e,n){var s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=5,e.length<20?s=200:e.length<40?s=100:e.length<80?s=50:e.length<140&&(s=25),s>5&&"A*"===n&&(s/=5),c=1;case 4:if(!(c<e.length)){t.next=11;break}return document.getElementById("".concat(e[c])).className="cell visited",t.next=8,new Promise((function(t){return setTimeout(t,s)}));case 8:++c,t.next=4;break;case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t){return X.apply(this,arguments)}function X(){return(X=Object(x.a)(u.a.mark((function t(e){var n,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=20,e.length>1e3&&(n=15),e.length>2500&&(n=10),s=0;case 4:if(!(s<e.length-1)){t.next=11;break}return document.getElementById("".concat(e[s])).className="cell path",t.next=8,new Promise((function(t){return setTimeout(t,n)}));case 8:++s,t.next=4;break;case 11:U=!1;case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(){return(Y=Object(x.a)(u.a.mark((function t(){var e,n,s,c,a,i,r,o,h;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U){t.next=35;break}q&&H(),q=!0,U=!0,e=[],n=[],s=document.getElementById("alghorithms").value,t.t0=s,t.next="dijkstra"===t.t0?10:"dfs"===t.t0?17:"A*"===t.t0?24:30;break;case 10:return t.next=12,E(J,F,A);case 12:return c=t.sent,a=Object(l.a)(c,2),e=a[0],n=a[1],t.abrupt("break",30);case 17:return t.next=19,g(J,F,A);case 19:return i=t.sent,r=Object(l.a)(i,2),e=r[0],n=r[1],t.abrupt("break",30);case 24:return t.next=26,C(J,F,A);case 26:o=t.sent,h=Object(l.a)(o,2),e=h[0],n=h[1];case 30:return t.next=32,Q(e,s);case 32:return t.next=34,V(n);case 34:U=!1;case 35:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Z=function(t){Object(p.a)(n,t);var e=Object(d.a)(n);function n(t){return Object(m.a)(this,n),e.call(this,t)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){for(var t=0;t<F;++t){for(var e=[],n=0;n<A;++n)e.push(new M);J.push(e)}J[P][S].type="enter",J[T][D].type="exit",this.setState(J)}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"menu",children:[Object(s.jsxs)("div",{className:"menu-column",children:[Object(s.jsxs)("button",{className:"paint-button",id:"paint-enter",onClick:function(){return G("enter")},children:[Object(s.jsx)("img",{className:"img",src:"assets/green.bmp",alt:"enter"}),Object(s.jsx)("p",{className:"text",children:"\u0422\u043e\u0447\u043a\u0430 \u043d\u0430\u0447\u0430\u043b\u0430"})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("button",{className:"paint-button",id:"paint-exit",onClick:function(){return G("exit")},children:[Object(s.jsx)("img",{className:"img",src:"assets/gold.bmp",alt:"exit"}),Object(s.jsx)("p",{className:"text",children:"\u0422\u043e\u0447\u043a\u0430 \u043a\u043e\u043d\u0446\u0430"})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("button",{className:"paint-button-active",id:"paint-wall",onClick:function(){return G("wall")},children:[Object(s.jsx)("img",{className:"img",src:"assets/gold.bmp",alt:"wall"}),Object(s.jsx)("p",{className:"text",children:"\u0421\u0442\u0435\u043d\u0430"})]})]}),Object(s.jsxs)("div",{className:"menu-column",children:[Object(s.jsx)("label",{htmlFor:"alghorithms",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c: "}),Object(s.jsx)("br",{}),Object(s.jsxs)("select",{id:"alghorithms",name:"alghorithms",children:[Object(s.jsx)("option",{value:"dijkstra",children:"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0414\u0435\u0439\u043a\u0441\u0442\u0440\u044b"}),Object(s.jsx)("option",{value:"dfs",children:"\u041f\u043e\u0438\u0441\u043a \u0432 \u0434\u043b\u0438\u043d\u0443"}),Object(s.jsx)("option",{value:"A*",children:"A-star"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(){return function(){return Y.apply(this,arguments)}()},children:"\u0417\u0430\u043f\u0443\u0441\u043a"})]})]}),Object(s.jsx)("div",{className:"grid",children:J.map((function(t,e){return Object(s.jsx)("div",{className:"row",children:t.map((function(t,n){return Object(s.jsx)("div",{className:"cell "+J[e][n].type,id:"[".concat(e,", ").concat(n,"]"),onMouseDown:function(){return K(e,n)},onMouseUp:function(){L=!1},onMouseEnter:function(){return function(t,e){!0!==L||U||"wall"!==z||("default"===J[t][e].type?J[t][e].type="wall":"wall"===J[t][e].type&&(J[t][e].type="default"),document.getElementById("[".concat(t,", ").concat(e,"]")).className="cell "+J[t][e].type)}(e,n)}},"".concat(e,", ").concat(n))}))},e.toString())}))})]})}}]),n}(c.Component);var $=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(Z,{})})},_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,s=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),s(t),c(t),a(t),i(t)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)($,{})}),document.getElementById("root")),_()}},[[20,1,2]]]);
//# sourceMappingURL=main.b15234b7.chunk.js.map